---
description: Tailwind CSS v4 with Vite—custom classes in CSS, reference by name; layers, dark mode; confirm before implementing
---

# Tailwind CSS (v4 + Vite)

Follow [Tailwind’s Vite installation](https://tailwindcss.com/docs/installation/using-vite) and [Core concepts](https://tailwindcss.com/docs). **Confirm with the user before implementing** Tailwind-specific structure or refactors.

**Define custom classes, don’t use string constants:** Define repeated patterns as **custom classes** in your stylesheet (`@layer components` with theme variables). In app code, **reference them by class name** (e.g. `className="btn-nav-header"`). Do **not** define long utility or class strings as constants in JS/TS (e.g. avoid `const buttonClass = "min-h-[44px] ..."` in a config file); that bypasses Tailwind’s layer model and makes styles harder to scan and override.

**Setup:** `@import "tailwindcss"` in main CSS; `@tailwindcss/vite` in `vite.config`. Use CSS-first `@theme` and `@layer` in the stylesheet.

**Layers:** Base element defaults → `@layer base`. Repeated component-like patterns → `@layer components` using theme vars (`var(--color-*)`, `var(--radius-*)`, `var(--shadow-*)`) and `@variant dark` for overrides. One-off styling → utility classes in markup or arbitrary values.

**Dark mode:** Class-based. `@custom-variant dark (&:where(.dark, .dark *));` and add `.dark` to a root element. Use `dark:` utilities and `@variant dark { ... }` inside custom component classes.

**Custom styles:** Prefer `@layer components` with theme vars; use class names in markup. For single-use values use arbitrary values in markup or in custom CSS.
